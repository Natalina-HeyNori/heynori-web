// Sistema de Internacionalizaci√≥n (i18n) para heynori!
// Detecci√≥n autom√°tica de idioma y traducci√≥n din√°mica

class I18nSystem {
  constructor() {
    this.currentLanguage = 'en'; // Idioma por defecto
    this.supportedLanguages = ['es', 'en', 'pt', 'fr'];
    this.translations = {};
    this.isInitialized = false;
    
    // Cargar traducciones
    this.loadTranslations();
    
    // Detectar y aplicar idioma autom√°ticamente
    this.detectAndApplyLanguage();
  }

  // Detectar idioma del usuario autom√°ticamente
  detectAndApplyLanguage() {
    let detectedLanguage = this.detectUserLanguage();
    
    // Si no se detecta un idioma soportado, usar ingl√©s
    if (!this.supportedLanguages.includes(detectedLanguage)) {
      detectedLanguage = 'en';
    }
    
    this.setLanguage(detectedLanguage);
    console.log(`üåê Idioma detectado autom√°ticamente: ${detectedLanguage}`);
  }

  // Detectar idioma preferido del usuario
  detectUserLanguage() {
    // 1. Comprobar par√°metro URL (?lang=en)
    const urlParams = new URLSearchParams(window.location.search);
    const urlLang = urlParams.get('lang');
    if (urlLang && this.supportedLanguages.includes(urlLang)) {
      return urlLang;
    }

    // 2. Comprobar localStorage (preferencia guardada)
    const savedLang = localStorage.getItem('heynori_language');
    if (savedLang && this.supportedLanguages.includes(savedLang)) {
      return savedLang;
    }

    // 3. Detectar por navegador
    const browserLang = navigator.language || navigator.userLanguage;
    const langCode = browserLang.split('-')[0].toLowerCase();
    
    if (this.supportedLanguages.includes(langCode)) {
      return langCode;
    }

    // 4. Detectar por geolocalizaci√≥n (opcional)
    this.detectByGeolocation();

    // 5. Fallback a ingl√©s
    return 'en';
  }

  // Detecci√≥n por geolocalizaci√≥n (opcional y as√≠ncrona)
  async detectByGeolocation() {
    try {
      // Usar API gratuita para detectar pa√≠s por IP
      const response = await fetch('https://ipapi.co/json/');
      const data = await response.json();
      
      const countryToLanguage = {
        'ES': 'es', 'MX': 'es', 'AR': 'es', 'CO': 'es', 'CL': 'es', 'PE': 'es',
        'US': 'en', 'GB': 'en', 'CA': 'en', 'AU': 'en', 'IE': 'en',
        'BR': 'pt', 'PT': 'pt',
        'FR': 'fr', 'BE': 'fr', 'CH': 'fr'
      };
      
      const detectedLang = countryToLanguage[data.country_code];
      if (detectedLang && detectedLang !== this.currentLanguage) {
        this.setLanguage(detectedLang);
        console.log(`üåç Idioma detectado por ubicaci√≥n: ${detectedLang} (${data.country_name})`);
      }
    } catch (error) {
      console.log('No se pudo detectar ubicaci√≥n:', error);
    }
  }

  // Definir todas las traducciones
  loadTranslations() {
    this.translations = {
      // Navegaci√≥n
      'nav.como-funciona': {
        'es': 'C√≥mo Funciona',
        'en': 'How It Works', 
        'pt': 'Como Funciona',
        'fr': 'Comment √áa Marche'
      },
      'nav.beneficios': {
        'es': 'Beneficios',
        'en': 'Benefits',
        'pt': 'Benef√≠cios', 
        'fr': 'Avantages'
      },
      'nav.integraciones': {
        'es': 'Integraciones',
        'en': 'Integrations',
        'pt': 'Integra√ß√µes',
        'fr': 'Int√©grations'
      },
      'nav.contacto': {
        'es': 'Contacto',
        'en': 'Contact',
        'pt': 'Contato',
        'fr': 'Contact'
      },
      'nav.solicitar-acceso': {
        'es': 'Solicitar Acceso',
        'en': 'Request Access',
        'pt': 'Solicitar Acesso',
        'fr': 'Demander l\'Acc√®s'
      },

      // Hero Section
      'hero.title': {
        'es': 'IA que realmente entiende',
        'en': 'AI that truly understands',
        'pt': 'IA que realmente entende',
        'fr': 'IA qui comprend vraiment'
      },
      'hero.subtitle': {
        'es': 'c√≥mo trabaja tu equipo',
        'en': 'how your team works',
        'pt': 'como sua equipe trabalha',
        'fr': 'comment votre √©quipe travaille'
      },
      'hero.description': {
        'es': 'Nori conecta autom√°ticamente todas tus herramientas de trabajo para eliminar tareas repetitivas, acelerar proyectos y optimizar la productividad de manera inteligente.',
        'en': 'Nori automatically connects all your work tools to eliminate repetitive tasks, accelerate projects, and intelligently optimize productivity.',
        'pt': 'Nori conecta automaticamente todas as suas ferramentas de trabalho para eliminar tarefas repetitivas, acelerar projetos e otimizar a produtividade de forma inteligente.',
        'fr': 'Nori connecte automatiquement tous vos outils de travail pour √©liminer les t√¢ches r√©p√©titives, acc√©l√©rer les projets et optimiser intelligemment la productivit√©.'
      },
      'hero.btn-solicitar': {
        'es': 'Solicitar Demo Gratuita',
        'en': 'Request Free Demo',
        'pt': 'Solicitar Demo Gratuita',
        'fr': 'Demander une D√©mo Gratuite'
      },
      'hero.btn-demo': {
        'es': 'Ver Demo en Vivo',
        'en': 'Watch Live Demo',
        'pt': 'Ver Demo ao Vivo',
        'fr': 'Voir la D√©mo en Direct'
      },
      'hero.note': {
        'es': 'Acceso anticipado limitado ‚Ä¢ Sin tarjeta de cr√©dito',
        'en': 'Limited early access ‚Ä¢ No credit card required',
        'pt': 'Acesso antecipado limitado ‚Ä¢ Sem cart√£o de cr√©dito',
        'fr': 'Acc√®s anticip√© limit√© ‚Ä¢ Aucune carte de cr√©dit requise'
      },

      // Formulario
      'form.nombre': {
        'es': 'Nombre completo',
        'en': 'Full name',
        'pt': 'Nome completo',
        'fr': 'Nom complet'
      },
      'form.email': {
        'es': 'Email corporativo',
        'en': 'Corporate email',
        'pt': 'Email corporativo',
        'fr': 'Email corporatif'
      },
      'form.empresa': {
        'es': 'Empresa',
        'en': 'Company',
        'pt': 'Empresa',
        'fr': 'Entreprise'
      },
      'form.submit': {
        'es': 'Solicitar Demo Personalizada',
        'en': 'Request Personalized Demo',
        'pt': 'Solicitar Demo Personalizada',
        'fr': 'Demander une D√©mo Personnalis√©e'
      },
      'form.team-size': {
        'es': 'Tama√±o del equipo',
        'en': 'Team size',
        'pt': 'Tamanho da equipe',
        'fr': 'Taille de l\'√©quipe'
      },
      'form.select-placeholder': {
        'es': 'Seleccionar...',
        'en': 'Select...',
        'pt': 'Selecionar...',
        'fr': 'S√©lectionner...'
      },
      'form.team-size.1-10': {
        'es': '1-10 personas',
        'en': '1-10 people',
        'pt': '1-10 pessoas',
        'fr': '1-10 personnes'
      },
      'form.team-size.11-50': {
        'es': '11-50 personas',
        'en': '11-50 people',
        'pt': '11-50 pessoas',
        'fr': '11-50 personnes'
      },
      'form.team-size.51-200': {
        'es': '51-200 personas',
        'en': '51-200 people',
        'pt': '51-200 pessoas',
        'fr': '51-200 personnes'
      },
      'form.team-size.201-500': {
        'es': '201-500 personas',
        'en': '201-500 people',
        'pt': '201-500 pessoas',
        'fr': '201-500 personnes'
      },
      'form.team-size.500+': {
        'es': 'M√°s de 500 personas',
        'en': 'More than 500 people',
        'pt': 'Mais de 500 pessoas',
        'fr': 'Plus de 500 personnes'
      },
      'form.use-case': {
        'es': '¬øQu√© quieres optimizar?',
        'en': 'What do you want to optimize?',
        'pt': 'O que voc√™ quer otimizar?',
        'fr': 'Que voulez-vous optimiser?'
      },
      'form.use-case.development': {
        'es': 'Desarrollo de software',
        'en': 'Software development',
        'pt': 'Desenvolvimento de software',
        'fr': 'D√©veloppement logiciel'
      },
      'form.use-case.sales': {
        'es': 'Procesos de ventas',
        'en': 'Sales processes',
        'pt': 'Processos de vendas',
        'fr': 'Processus de vente'
      },
      'form.use-case.marketing': {
        'es': 'Campa√±as de marketing',
        'en': 'Marketing campaigns',
        'pt': 'Campanhas de marketing',
        'fr': 'Campagnes marketing'
      },
      'form.use-case.operations': {
        'es': 'Operaciones generales',
        'en': 'General operations',
        'pt': 'Opera√ß√µes gerais',
        'fr': 'Op√©rations g√©n√©rales'
      },
      'form.use-case.support': {
        'es': 'Atenci√≥n al cliente',
        'en': 'Customer support',
        'pt': 'Atendimento ao cliente',
        'fr': 'Support client'
      },
      'form.use-case.other': {
        'es': 'Otro',
        'en': 'Other',
        'pt': 'Outro',
        'fr': 'Autre'
      },
      'form.message': {
        'es': 'Cu√©ntanos tu principal desaf√≠o',
        'en': 'Tell us your main challenge',
        'pt': 'Conte-nos seu principal desafio',
        'fr': 'Parlez-nous de votre principal d√©fi'
      },
      'form.message.placeholder': {
        'es': 'Ej: Perdemos mucho tiempo sincronizando datos entre Slack y Jira...',
        'en': 'Ex: We waste a lot of time syncing data between Slack and Jira...',
        'pt': 'Ex: Perdemos muito tempo sincronizando dados entre Slack e Jira...',
        'fr': 'Ex: Nous perdons beaucoup de temps √† synchroniser les donn√©es entre Slack et Jira...'
      },
      'form.message.help': {
        'es': 'Opcional - nos ayuda a preparar una demo m√°s relevante',
        'en': 'Optional - helps us prepare a more relevant demo',
        'pt': 'Opcional - nos ajuda a preparar uma demo mais relevante',
        'fr': 'Optionnel - nous aide √† pr√©parer une d√©mo plus pertinente'
      },
      'form.newsletter': {
        'es': 'Quiero recibir actualizaciones sobre nuevas integraciones y funcionalidades',
        'en': 'I want to receive updates about new integrations and features',
        'pt': 'Quero receber atualiza√ß√µes sobre novas integra√ß√µes e funcionalidades',
        'fr': 'Je veux recevoir des mises √† jour sur les nouvelles int√©grations et fonctionnalit√©s'
      },
      'form.privacy.text1': {
        'es': 'Acepto la',
        'en': 'I accept the',
        'pt': 'Aceito a',
        'fr': 'J\'accepte la'
      },
      'form.privacy.text2': {
        'es': 'y el procesamiento de mis datos',
        'en': 'and data processing',
        'pt': 'e o processamento dos meus dados',
        'fr': 'et le traitement de mes donn√©es'
      },
      'form.privacy.link': {
        'es': 'pol√≠tica de privacidad',
        'en': 'privacy policy',
        'pt': 'pol√≠tica de privacidade',
        'fr': 'politique de confidentialit√©'
      },
      'form.note': {
        'es': 'Te contactaremos en menos de 24 horas',
        'en': 'We\'ll contact you within 24 hours',
        'pt': 'Entraremos em contato em menos de 24 horas',
        'fr': 'Nous vous contacterons dans les 24 heures'
      },
      'form.loading': {
        'es': 'Enviando...',
        'en': 'Sending...',
        'pt': 'Enviando...',
        'fr': 'Envoi en cours...'
      },

      // Validaciones
      'validation.required': {
        'es': 'Este campo es obligatorio',
        'en': 'This field is required',
        'pt': 'Este campo √© obrigat√≥rio',
        'fr': 'Ce champ est requis'
      },
      'validation.email': {
        'es': 'Por favor ingresa un email v√°lido',
        'en': 'Please enter a valid email',
        'pt': 'Por favor, insira um email v√°lido',
        'fr': 'Veuillez saisir un email valide'
      },
      'validation.corporate-email': {
        'es': 'Por favor usa tu email corporativo',
        'en': 'Please use your corporate email',
        'pt': 'Por favor, use seu email corporativo',
        'fr': 'Veuillez utiliser votre email corporatif'
      },

      // Modales
      'modal.demo.title': {
        'es': 'Ver Demo en Vivo',
        'en': 'Live Demo',
        'pt': 'Demo ao Vivo',
        'fr': 'D√©mo en Direct'
      },
      'modal.demo.description': {
        'es': 'Descubre c√≥mo Nori puede transformar tu productividad en solo 15 minutos',
        'en': 'Discover how Nori can transform your productivity in just 15 minutes',
        'pt': 'Descubra como Nori pode transformar sua produtividade em apenas 15 minutos',
        'fr': 'D√©couvrez comment Nori peut transformer votre productivit√© en seulement 15 minutes'
      },
      'modal.demo.coming-soon': {
        'es': 'Demo interactivo pr√≥ximamente',
        'en': 'Interactive demo coming soon',
        'pt': 'Demo interativo em breve',
        'fr': 'D√©mo interactive bient√¥t disponible'
      },
      'modal.demo.btn-request': {
        'es': 'Solicitar Demo Personalizada',
        'en': 'Request Personalized Demo',
        'pt': 'Solicitar Demo Personalizada',
        'fr': 'Demander une D√©mo Personnalis√©e'
      },
      'modal.success.title': {
        'es': '¬°Solicitud Enviada!',
        'en': 'Request Sent!',
        'pt': 'Solicita√ß√£o Enviada!',
        'fr': 'Demande Envoy√©e!'
      },
      'modal.success.description': {
        'es': 'Gracias por tu inter√©s en heynori!',
        'en': 'Thank you for your interest in heynori!',
        'pt': 'Obrigado pelo seu interesse em heynori!',
        'fr': 'Merci pour votre int√©r√™t pour heynori!'
      },
      'modal.success.contact-24h': {
        'es': 'Te contactaremos en 24 horas',
        'en': 'We\'ll contact you within 24 hours',
        'pt': 'Entraremos em contato em 24 horas',
        'fr': 'Nous vous contacterons dans les 24 heures'
      },
      'modal.success.contact-desc': {
        'es': 'Nuestro equipo revisar√° tu informaci√≥n y te contactar√° pronto',
        'en': 'Our team will review your information and contact you soon',
        'pt': 'Nossa equipe revisar√° suas informa√ß√µes e entrar√° em contato em breve',
        'fr': 'Notre √©quipe examinera vos informations et vous contactera bient√¥t'
      },
      'modal.success.demo-ready': {
        'es': 'Demo personalizada lista',
        'en': 'Personalized demo ready',
        'pt': 'Demo personalizada pronta',
        'fr': 'D√©mo personnalis√©e pr√™te'
      },
      'modal.success.demo-desc': {
        'es': 'Prepararemos una demo espec√≠fica para tu caso de uso',
        'en': 'We\'ll prepare a demo specific to your use case',
        'pt': 'Prepararemos uma demo espec√≠fica para seu caso de uso',
        'fr': 'Nous pr√©parerons une d√©mo sp√©cifique √† votre cas d\'usage'
      },
      'modal.success.setup-24h': {
        'es': 'Setup en 24 horas',
        'en': '24-hour setup',
        'pt': 'Configura√ß√£o em 24 horas',
        'fr': 'Configuration en 24 heures'
      },
      'modal.success.setup-desc': {
        'es': 'Si decides continuar, tendr√°s Nori funcionando al d√≠a siguiente',
        'en': 'If you decide to continue, you\'ll have Nori running the next day',
        'pt': 'Se decidir continuar, ter√° Nori funcionando no dia seguinte',
        'fr': 'Si vous d√©cidez de continuer, vous aurez Nori op√©rationnel le lendemain'
      },

      // Hero tagline
      'hero.tagline': {
        'es': 'Tu vida. Tu trabajo. Tu ritmo. Potenciado.',
        'en': 'Your life. Your work. Your rhythm. Enhanced.',
        'pt': 'Sua vida. Seu trabalho. Seu ritmo. Potencializado.',
        'fr': 'Votre vie. Votre travail. Votre rythme. Am√©lior√©.'
      },

      // Problems Section
      'problems.title': {
        'es': '¬øTe suena familiar?',
        'en': 'Sound familiar?',
        'pt': 'Soa familiar?',
        'fr': '√áa vous dit quelque chose?'
      },
      'problems.time-lost.title': {
        'es': 'Tiempo perdido',
        'en': 'Time wasted',
        'pt': 'Tempo perdido',
        'fr': 'Temps perdu'
      },
      'problems.time-lost.desc': {
        'es': 'Tu equipo pierde horas cada semana cambiando entre aplicaciones y copiando informaci√≥n manualmente',
        'en': 'Your team wastes hours every week switching between applications and copying information manually',
        'pt': 'Sua equipe perde horas toda semana mudando entre aplica√ß√µes e copiando informa√ß√µes manualmente',
        'fr': 'Votre √©quipe perd des heures chaque semaine √† passer d\'une application √† l\'autre et √† copier des informations manuellement'
      },
      'problems.visibility.title': {
        'es': 'Falta de visibilidad',
        'en': 'Lack of visibility',
        'pt': 'Falta de visibilidade',
        'fr': 'Manque de visibilit√©'
      },
      'problems.visibility.desc': {
        'es': 'Los proyectos se retrasan porque nadie tiene una vista completa del progreso real',
        'en': 'Projects get delayed because no one has a complete view of real progress',
        'pt': 'Projetos se atrasam porque ningu√©m tem uma vis√£o completa do progresso real',
        'fr': 'Les projets prennent du retard car personne n\'a une vue compl√®te du progr√®s r√©el'
      },
      'problems.talent.title': {
        'es': 'Talento frustrado',
        'en': 'Frustrated talent',
        'pt': 'Talento frustrado',
        'fr': 'Talent frustr√©'
      },
      'problems.talent.desc': {
        'es': 'Tus mejores profesionales se agotan con tareas repetitivas que una m√°quina podr√≠a hacer',
        'en': 'Your best professionals burn out on repetitive tasks that a machine could do',
        'pt': 'Seus melhores profissionais se esgotam com tarefas repetitivas que uma m√°quina poderia fazer',
        'fr': 'Vos meilleurs professionnels s\'√©puisent sur des t√¢ches r√©p√©titives qu\'une machine pourrait faire'
      },
      'problems.decisions.title': {
        'es': 'Decisiones a ciegas',
        'en': 'Blind decisions',
        'pt': 'Decis√µes √†s cegas',
        'fr': 'D√©cisions aveugles'
      },
      'problems.decisions.desc': {
        'es': 'No tienes datos confiables para tomar decisiones estrat√©gicas sobre productividad',
        'en': 'You don\'t have reliable data to make strategic decisions about productivity',
        'pt': 'Voc√™ n√£o tem dados confi√°veis para tomar decis√µes estrat√©gicas sobre produtividade',
        'fr': 'Vous n\'avez pas de donn√©es fiables pour prendre des d√©cisions strat√©giques sur la productivit√©'
      },

      // Solution Section
      'solution.title': {
        'es': 'Nori es diferente',
        'en': 'Nori is different',
        'pt': 'Nori √© diferente',
        'fr': 'Nori est diff√©rent'
      },
      'solution.subtitle': {
        'es': 'La primera IA que realmente entiende c√≥mo trabaja tu equipo',
        'en': 'The first AI that truly understands how your team works',
        'pt': 'A primeira IA que realmente entende como sua equipe trabalha',
        'fr': 'La premi√®re IA qui comprend vraiment comment votre √©quipe travaille'
      },
      'solution.connectivity.title': {
        'es': 'Conectividad Sin L√≠mites',
        'en': 'Limitless Connectivity',
        'pt': 'Conectividade Sem Limites',
        'fr': 'Connectivit√© Sans Limites'
      },
      'solution.connectivity.desc': {
        'es': 'Integra todas tus herramientas en minutos, no meses. APIs nativas y conectores personalizados para sincronizaci√≥n bidireccional en tiempo real.',
        'en': 'Integrate all your tools in minutes, not months. Native APIs and custom connectors for real-time bidirectional synchronization.',
        'pt': 'Integre todas as suas ferramentas em minutos, n√£o meses. APIs nativas e conectores personalizados para sincroniza√ß√£o bidirecional em tempo real.',
        'fr': 'Int√©grez tous vos outils en minutes, pas en mois. APIs natives et connecteurs personnalis√©s pour une synchronisation bidirectionnelle en temps r√©el.'
      },
      'solution.connectivity.setup': {
        'es': 'Setup instant√°neo',
        'en': 'Instant setup',
        'pt': 'Configura√ß√£o instant√¢nea',
        'fr': 'Configuration instantan√©e'
      },
      'solution.connectivity.friction': {
        'es': 'Zero fricci√≥n para tu equipo',
        'en': 'Zero friction for your team',
        'pt': 'Zero atrito para sua equipe',
        'fr': 'Z√©ro friction pour votre √©quipe'
      },
      'solution.connectivity.tools': {
        'es': 'Mant√©n las herramientas que amas',
        'en': 'Keep the tools you love',
        'pt': 'Mantenha as ferramentas que voc√™ ama',
        'fr': 'Gardez les outils que vous aimez'
      },
      'solution.ai.title': {
        'es': 'IA que Aprende Tu Contexto',
        'en': 'AI that Learns Your Context',
        'pt': 'IA que Aprende Seu Contexto',
        'fr': 'IA qui Apprend Votre Contexte'
      },
      'solution.ai.desc': {
        'es': 'Mapea autom√°ticamente tus procesos √∫nicos, predice bloqueos antes de que ocurran y sugiere optimizaciones basadas en los patrones de tu equipo.',
        'en': 'Automatically maps your unique processes, predicts blocks before they occur and suggests optimizations based on your team\'s patterns.',
        'pt': 'Mapeia automaticamente seus processos √∫nicos, prev√™ bloqueios antes que ocorram e sugere otimiza√ß√µes baseadas nos padr√µes da sua equipe.',
        'fr': 'Cartographie automatiquement vos processus uniques, pr√©dit les blocages avant qu\'ils ne se produisent et sugg√®re des optimisations bas√©es sur les mod√®les de votre √©quipe.'
      },
      'solution.ai.learning': {
        'es': 'Aprendizaje continuo',
        'en': 'Continuous learning',
        'pt': 'Aprendizagem cont√≠nua',
        'fr': 'Apprentissage continu'
      },
      'solution.ai.predictions': {
        'es': 'Predicciones inteligentes',
        'en': 'Intelligent predictions',
        'pt': 'Previs√µes inteligentes',
        'fr': 'Pr√©dictions intelligentes'
      },
      'solution.ai.optimization': {
        'es': 'Optimizaci√≥n autom√°tica',
        'en': 'Automatic optimization',
        'pt': 'Otimiza√ß√£o autom√°tica',
        'fr': 'Optimisation automatique'
      },
      'solution.automation.title': {
        'es': 'Automatizaci√≥n Inteligente',
        'en': 'Intelligent Automation',
        'pt': 'Automa√ß√£o Inteligente',
        'fr': 'Automatisation Intelligente'
      },
      'solution.automation.desc': {
        'es': 'Elimina la mayor√≠a de tareas manuales entre apps, actualiza estados de proyectos autom√°ticamente y genera reportes ejecutivos al instante.',
        'en': 'Eliminates most manual tasks between apps, automatically updates project statuses and generates executive reports instantly.',
        'pt': 'Elimina a maioria das tarefas manuais entre apps, atualiza status de projetos automaticamente e gera relat√≥rios executivos instantaneamente.',
        'fr': '√âlimine la plupart des t√¢ches manuelles entre les applications, met √† jour automatiquement les statuts de projet et g√©n√®re des rapports ex√©cutifs instantan√©ment.'
      },
      'solution.automation.workflows': {
        'es': 'Workflows autom√°ticos',
        'en': 'Automatic workflows',
        'pt': 'Fluxos de trabalho autom√°ticos',
        'fr': 'Flux de travail automatiques'
      },
      'solution.automation.reports': {
        'es': 'Reportes instant√°neos',
        'en': 'Instant reports',
        'pt': 'Relat√≥rios instant√¢neos',
        'fr': 'Rapports instantan√©s'
      },
      'solution.automation.alerts': {
        'es': 'Alertas proactivas',
        'en': 'Proactive alerts',
        'pt': 'Alertas proativos',
        'fr': 'Alertes proactives'
      },
      'solution.insights.title': {
        'es': 'Insights para L√≠deres',
        'en': 'Insights for Leaders',
        'pt': 'Insights para L√≠deres',
        'fr': 'Insights pour Leaders'
      },
      'solution.insights.desc': {
        'es': 'Dashboards ejecutivos con m√©tricas de productividad real, identificaci√≥n de cuellos de botella y benchmarking con equipos de alto rendimiento.',
        'en': 'Executive dashboards with real productivity metrics, bottleneck identification and benchmarking with high-performance teams.',
        'pt': 'Dashboards executivos com m√©tricas de produtividade real, identifica√ß√£o de gargalos e benchmarking com equipes de alto desempenho.',
        'fr': 'Tableaux de bord ex√©cutifs avec des m√©triques de productivit√© r√©elles, identification des goulots d\'√©tranglement et benchmarking avec des √©quipes performantes.'
      },
      'solution.insights.metrics': {
        'es': 'M√©tricas accionables',
        'en': 'Actionable metrics',
        'pt': 'M√©tricas acion√°veis',
        'fr': 'M√©triques exploitables'
      },
      'solution.insights.roi': {
        'es': 'ROI medible',
        'en': 'Measurable ROI',
        'pt': 'ROI mensur√°vel',
        'fr': 'ROI mesurable'
      },
      'solution.insights.continuous': {
        'es': 'Optimizaci√≥n continua',
        'en': 'Continuous optimization',
        'pt': 'Otimiza√ß√£o cont√≠nua',
        'fr': 'Optimisation continue'
      },

      // Benefits Section
      'benefits.title': {
        'es': 'Para equipos que valoran su tiempo',
        'en': 'For teams that value their time',
        'pt': 'Para equipes que valorizam seu tempo',
        'fr': 'Pour les √©quipes qui valorisent leur temps'
      },
      'benefits.create.title': {
        'es': 'M√°s tiempo para crear',
        'en': 'More time to create',
        'pt': 'Mais tempo para criar',
        'fr': 'Plus de temps pour cr√©er'
      },
      'benefits.create.desc': {
        'es': 'Tu equipo se enfoca en trabajo estrat√©gico, no en copiar y pegar entre herramientas',
        'en': 'Your team focuses on strategic work, not copying and pasting between tools',
        'pt': 'Sua equipe se concentra em trabalho estrat√©gico, n√£o em copiar e colar entre ferramentas',
        'fr': 'Votre √©quipe se concentre sur le travail strat√©gique, pas sur copier-coller entre les outils'
      },
      'benefits.flow.title': {
        'es': 'Proyectos que fluyen',
        'en': 'Projects that flow',
        'pt': 'Projetos que fluem',
        'fr': 'Projets qui coulent'
      },
      'benefits.flow.desc': {
        'es': 'Sincronizaci√≥n autom√°tica mantiene a todos alineados sin reuniones innecesarias',
        'en': 'Automatic synchronization keeps everyone aligned without unnecessary meetings',
        'pt': 'Sincroniza√ß√£o autom√°tica mant√©m todos alinhados sem reuni√µes desnecess√°rias',
        'fr': 'La synchronisation automatique maintient tout le monde align√© sans r√©unions inutiles'
      },
      'benefits.decisions.title': {
        'es': 'Decisiones m√°s inteligentes',
        'en': 'Smarter decisions',
        'pt': 'Decis√µes mais inteligentes',
        'fr': 'D√©cisions plus intelligentes'
      },
      'benefits.decisions.desc': {
        'es': 'Datos en tiempo real para optimizar procesos y anticipar problemas',
        'en': 'Real-time data to optimize processes and anticipate problems',
        'pt': 'Dados em tempo real para otimizar processos e antecipar problemas',
        'fr': 'Donn√©es en temps r√©el pour optimiser les processus et anticiper les probl√®mes'
      },
      'benefits.scalability.title': {
        'es': 'Escalabilidad sin estr√©s',
        'en': 'Scalability without stress',
        'pt': 'Escalabilidade sem estresse',
        'fr': '√âvolutivit√© sans stress'
      },
      'benefits.scalability.desc': {
        'es': 'Crece tu equipo sin multiplicar la complejidad de tus procesos',
        'en': 'Grow your team without multiplying the complexity of your processes',
        'pt': 'Fa√ßa sua equipe crescer sem multiplicar a complexidade dos seus processos',
        'fr': 'D√©veloppez votre √©quipe sans multiplier la complexit√© de vos processus'
      },
      'benefits.workflow.step1': {
        'es': 'Detecta patrones',
        'en': 'Detects patterns',
        'pt': 'Detecta padr√µes',
        'fr': 'D√©tecte les mod√®les'
      },
      'benefits.workflow.step2': {
        'es': 'Automatiza flujos',
        'en': 'Automates flows',
        'pt': 'Automatiza fluxos',
        'fr': 'Automatise les flux'
      },
      'benefits.workflow.step3': {
        'es': 'Optimiza continuamente',
        'en': 'Continuously optimizes',
        'pt': 'Otimiza continuamente',
        'fr': 'Optimise en continu'
      },

      // Integrations Section
      'integrations.title': {
        'es': 'Se conecta con las herramientas que ya usas',
        'en': 'Connects with the tools you already use',
        'pt': 'Conecta com as ferramentas que voc√™ j√° usa',
        'fr': 'Se connecte avec les outils que vous utilisez d√©j√†'
      },
      'integrations.subtitle': {
        'es': 'No cambies tu stack, mej√≥ralo',
        'en': 'Don\'t change your stack, improve it',
        'pt': 'N√£o mude seu stack, melhore-o',
        'fr': 'Ne changez pas votre pile, am√©liorez-la'
      },
      'integrations.communication': {
        'es': 'Comunicaci√≥n',
        'en': 'Communication',
        'pt': 'Comunica√ß√£o',
        'fr': 'Communication'
      },
      'integrations.project-management': {
        'es': 'Gesti√≥n de Proyectos',
        'en': 'Project Management',
        'pt': 'Gest√£o de Projetos',
        'fr': 'Gestion de Projet'
      },
      'integrations.development': {
        'es': 'Desarrollo',
        'en': 'Development',
        'pt': 'Desenvolvimento',
        'fr': 'D√©veloppement'
      },
      'integrations.crm-sales': {
        'es': 'CRM & Ventas',
        'en': 'CRM & Sales',
        'pt': 'CRM & Vendas',
        'fr': 'CRM & Ventes'
      },
      'integrations.note': {
        'es': '+ M√°s de 100 integraciones adicionales',
        'en': '+ More than 100 additional integrations',
        'pt': '+ Mais de 100 integra√ß√µes adicionais',
        'fr': '+ Plus de 100 int√©grations suppl√©mentaires'
      },

      // CTA Section
      'cta.title': {
        'es': '√önete al futuro del trabajo',
        'en': 'Join the future of work',
        'pt': 'Junte-se ao futuro do trabalho',
        'fr': 'Rejoignez l\'avenir du travail'
      },
      'cta.subtitle': {
        'es': 'Acceso anticipado limitado para equipos que quieren ser pioneros en productividad inteligente',
        'en': 'Limited early access for teams that want to be pioneers in intelligent productivity',
        'pt': 'Acesso antecipado limitado para equipes que querem ser pioneiras em produtividade inteligente',
        'fr': 'Acc√®s anticip√© limit√© pour les √©quipes qui veulent √™tre pionni√®res en productivit√© intelligente'
      },
      'cta.btn-access': {
        'es': 'Solicitar Acceso Anticipado',
        'en': 'Request Early Access',
        'pt': 'Solicitar Acesso Antecipado',
        'fr': 'Demander l\'Acc√®s Anticip√©'
      },
      'cta.btn-call': {
        'es': 'Agendar Llamada',
        'en': 'Schedule Call',
        'pt': 'Agendar Chamada',
        'fr': 'Programmer un Appel'
      },
      'cta.feature.setup': {
        'es': 'Setup personalizado incluido',
        'en': 'Personalized setup included',
        'pt': 'Configura√ß√£o personalizada inclu√≠da',
        'fr': 'Configuration personnalis√©e incluse'
      },
      'cta.feature.support': {
        'es': 'Soporte dedicado',
        'en': 'Dedicated support',
        'pt': 'Suporte dedicado',
        'fr': 'Support d√©di√©'
      },
      'cta.feature.roadmap': {
        'es': 'Influencia en roadmap',
        'en': 'Roadmap influence',
        'pt': 'Influ√™ncia no roadmap',
        'fr': 'Influence sur la feuille de route'
      },

      // Contact Section
      'contact.title': {
        'es': '¬øListo para transformar tu productividad?',
        'en': 'Ready to transform your productivity?',
        'pt': 'Pronto para transformar sua produtividade?',
        'fr': 'Pr√™t √† transformer votre productivit√©?'
      },
      'contact.subtitle': {
        'es': 'Cu√©ntanos sobre tu equipo y te mostraremos c√≥mo Nori puede revolucionar tu flujo de trabajo en menos de 30 d√≠as.',
        'en': 'Tell us about your team and we\'ll show you how Nori can revolutionize your workflow in less than 30 days.',
        'pt': 'Conte-nos sobre sua equipe e mostraremos como Nori pode revolucionar seu fluxo de trabalho em menos de 30 dias.',
        'fr': 'Parlez-nous de votre √©quipe et nous vous montrerons comment Nori peut r√©volutionner votre flux de travail en moins de 30 jours.'
      },
      'contact.feature.setup.title': {
        'es': 'Setup en 24 horas',
        'en': '24-hour setup',
        'pt': 'Configura√ß√£o em 24 horas',
        'fr': 'Configuration en 24 heures'
      },
      'contact.feature.setup.desc': {
        'es': 'Implementaci√≥n express sin interrumpir tu trabajo',
        'en': 'Express implementation without interrupting your work',
        'pt': 'Implementa√ß√£o expressa sem interromper seu trabalho',
        'fr': 'Impl√©mentation express sans interrompre votre travail'
      },
      'contact.feature.security.title': {
        'es': 'Seguridad enterprise',
        'en': 'Enterprise security',
        'pt': 'Seguran√ßa enterprise',
        'fr': 'S√©curit√© entreprise'
      },
      'contact.feature.security.desc': {
        'es': 'SOC2, GDPR compliance y encriptaci√≥n end-to-end',
        'en': 'SOC2, GDPR compliance and end-to-end encryption',
        'pt': 'SOC2, conformidade GDPR e criptografia end-to-end',
        'fr': 'SOC2, conformit√© GDPR et chiffrement end-to-end'
      },
      'contact.feature.support247.title': {
        'es': 'Soporte 24/7',
        'en': '24/7 Support',
        'pt': 'Suporte 24/7',
        'fr': 'Support 24/7'
      },
      'contact.feature.support247.desc': {
        'es': 'Equipo dedicado para resolver cualquier duda',
        'en': 'Dedicated team to resolve any questions',
        'pt': 'Equipe dedicada para resolver qualquer d√∫vida',
        'fr': '√âquipe d√©di√©e pour r√©soudre toute question'
      },

      // Footer
      'footer.product': {
        'es': 'Producto',
        'en': 'Product',
        'pt': 'Produto',
        'fr': 'Produit'
      },
      'footer.how-it-works': {
        'es': 'C√≥mo Funciona',
        'en': 'How It Works',
        'pt': 'Como Funciona',
        'fr': 'Comment √áa Marche'
      },
      'footer.integrations': {
        'es': 'Integraciones',
        'en': 'Integrations',
        'pt': 'Integra√ß√µes',
        'fr': 'Int√©grations'
      },
      'footer.security': {
        'es': 'Seguridad',
        'en': 'Security',
        'pt': 'Seguran√ßa',
        'fr': 'S√©curit√©'
      },
      'footer.roadmap': {
        'es': 'Roadmap',
        'en': 'Roadmap',
        'pt': 'Roadmap',
        'fr': 'Feuille de Route'
      },
      'footer.company': {
        'es': 'Empresa',
        'en': 'Company',
        'pt': 'Empresa',
        'fr': 'Entreprise'
      },
      'footer.about-us': {
        'es': 'Sobre Nosotros',
        'en': 'About Us',
        'pt': 'Sobre N√≥s',
        'fr': '√Ä Propos'
      },
      'footer.careers': {
        'es': 'Carreras',
        'en': 'Careers',
        'pt': 'Carreiras',
        'fr': 'Carri√®res'
      },
      'footer.blog': {
        'es': 'Blog',
        'en': 'Blog',
        'pt': 'Blog',
        'fr': 'Blog'
      },
      'footer.press': {
        'es': 'Prensa',
        'en': 'Press',
        'pt': 'Imprensa',
        'fr': 'Presse'
      },
      'footer.support': {
        'es': 'Soporte',
        'en': 'Support',
        'pt': 'Suporte',
        'fr': 'Support'
      },
      'footer.help-center': {
        'es': 'Centro de Ayuda',
        'en': 'Help Center',
        'pt': 'Central de Ajuda',
        'fr': 'Centre d\'Aide'
      },
      'footer.documentation': {
        'es': 'Documentaci√≥n',
        'en': 'Documentation',
        'pt': 'Documenta√ß√£o',
        'fr': 'Documentation'
      },
      'footer.status': {
        'es': 'Status',
        'en': 'Status',
        'pt': 'Status',
        'fr': 'Statut'
      },
      'footer.contact': {
        'es': 'Contacto',
        'en': 'Contact',
        'pt': 'Contato',
        'fr': 'Contact'
      },
      'footer.copyright': {
        'es': '¬© 2024 heynori! Todos los derechos reservados.',
        'en': '¬© 2024 heynori! All rights reserved.',
        'pt': '¬© 2024 heynori! Todos os direitos reservados.',
        'fr': '¬© 2024 heynori! Tous droits r√©serv√©s.'
      },
      'footer.privacy': {
        'es': 'Privacidad',
        'en': 'Privacy',
        'pt': 'Privacidade',
        'fr': 'Confidentialit√©'
      },
      'footer.terms': {
        'es': 'T√©rminos',
        'en': 'Terms',
        'pt': 'Termos',
        'fr': 'Conditions'
      },
      'footer.cookies': {
        'es': 'Cookies',
        'en': 'Cookies',
        'pt': 'Cookies',
        'fr': 'Cookies'
      },

      // Easter eggs
      'easter.rainbow-activated': {
        'es': 'üåà ¬°Modo arco√≠ris activado! ü¶Ñ',
        'en': 'üåà Rainbow mode activated! ü¶Ñ',
        'pt': 'üåà Modo arco-√≠ris ativado! ü¶Ñ',
        'fr': 'üåà Mode arc-en-ciel activ√©! ü¶Ñ'
      },
      'easter.rainbow-disabled': {
        'es': 'Modo arco√≠ris desactivado',
        'en': 'Rainbow mode disabled',
        'pt': 'Modo arco-√≠ris desativado',
        'fr': 'Mode arc-en-ciel d√©sactiv√©'
      }
    };
  }

  // Cambiar idioma
  setLanguage(lang) {
    if (!this.supportedLanguages.includes(lang)) {
      console.warn(`Idioma no soportado: ${lang}`);
      return;
    }

    this.currentLanguage = lang;
    
    // Guardar preferencia
    localStorage.setItem('heynori_language', lang);
    
    // Actualizar HTML lang attribute
    document.documentElement.lang = lang;
    
    // Aplicar traducciones
    this.applyTranslations();
    
    // Actualizar botones de idioma
    this.updateLanguageButtons();
    
    // Disparar evento custom
    document.dispatchEvent(new CustomEvent('languageChanged', { 
      detail: { language: lang } 
    }));
  }

  // Aplicar traducciones a toda la p√°gina
  applyTranslations() {
    // Buscar todos los elementos con data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.dataset.i18n;
      const translation = this.translate(key);
      
      if (translation) {
        if (element.tagName === 'INPUT' && element.type !== 'submit') {
          element.placeholder = translation;
        } else if (element.tagName === 'TEXTAREA') {
          element.placeholder = translation;
        } else {
          element.textContent = translation;
        }
      }
    });

    // Actualizar meta tags para SEO
    this.updateMetaTags();
  }

  // Obtener traducci√≥n
  translate(key) {
    return this.translations[key]?.[this.currentLanguage] || key;
  }

  // Crear selector de idiomas din√°mico
  createLanguageSelector() {
    const selector = document.createElement('div');
    selector.className = 'language-selector';
    selector.innerHTML = `
      <button class="lang-btn" data-lang="es" title="Espa√±ol">üá™üá∏</button>
      <button class="lang-btn" data-lang="en" title="English">üá∫üá∏</button>
      <button class="lang-btn" data-lang="pt" title="Portugu√™s">üáßüá∑</button>
      <button class="lang-btn" data-lang="fr" title="Fran√ßais">üá´üá∑</button>
    `;

    // Event listeners
    selector.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        this.setLanguage(btn.dataset.lang);
      });
    });

    return selector;
  }

  // Actualizar botones de idioma activos
  updateLanguageButtons() {
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.classList.toggle('active', btn.dataset.lang === this.currentLanguage);
    });
  }

  // Actualizar meta tags para SEO
  updateMetaTags() {
    const titles = {
      'es': 'heynori! - IA que realmente entiende c√≥mo trabajas',
      'en': 'heynori! - AI that truly understands how you work',
      'pt': 'heynori! - IA que realmente entende como voc√™ trabalha',
      'fr': 'heynori! - IA qui comprend vraiment comment vous travaillez'
    };

    const descriptions = {
      'es': 'Nori conecta todas tus herramientas de trabajo para eliminar tareas repetitivas y multiplicar la productividad de tu equipo.',
      'en': 'Nori connects all your work tools to eliminate repetitive tasks and multiply your team\'s productivity.',
      'pt': 'Nori conecta todas as suas ferramentas de trabalho para eliminar tarefas repetitivas e multiplicar a produtividade da sua equipe.',
      'fr': 'Nori connecte tous vos outils de travail pour √©liminer les t√¢ches r√©p√©titives et multiplier la productivit√© de votre √©quipe.'
    };

    document.title = titles[this.currentLanguage];
    
    const metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc) {
      metaDesc.content = descriptions[this.currentLanguage];
    }
  }

  // Obtener idioma actual
  getCurrentLanguage() {
    return this.currentLanguage;
  }

  // Comprobar si es un idioma espec√≠fico
  isLanguage(lang) {
    return this.currentLanguage === lang;
  }
}

// Exportar como singleton
window.i18n = new I18nSystem();

// Auto-inicializar cuando el DOM est√© listo
document.addEventListener('DOMContentLoaded', () => {
  // El sistema ya se inicializa en el constructor
  console.log('üåê Sistema i18n inicializado');
}); 